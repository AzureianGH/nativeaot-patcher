<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <OutputType>Exe</OutputType>
        <TargetFramework>net8.0</TargetFramework>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>

        <NoStdLib>true</NoStdLib>
        <NoConfig>true</NoConfig>
        <RuntimeMetadataVersion>v4.0.30319</RuntimeMetadataVersion>
        <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
        <GenerateTargetFrameworkAttribute>false</GenerateTargetFrameworkAttribute>

        <IlcSystemModule>Kernel</IlcSystemModule>
        <IlcVerboseLogging>true</IlcVerboseLogging>

        <PublishAot>true</PublishAot>
        <!-- Version 11 require System.AttributeUsageAttribute which is additional code -->
        <LangVersion>10</LangVersion>
        <NativeLib>Static</NativeLib>
        <OutputType>Library</OutputType> <!-- We'll anyway need some asm code likely -->
        <ImplicitUsings>false</ImplicitUsings>
        <SkipNativeLinking>true</SkipNativeLinking>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    </PropertyGroup>

    <ItemGroup>
        <ProjectReference Include="../../src/Cosmos.API/Cosmos.API.csproj" />
    </ItemGroup>

    <Import Project="../../src/Cosmos.Patcher.Build/Patcher.Build.targets" />
    <Import Project="../../src/Cosmos.ilc.Build/ILC.Build.targets" />

</Project>